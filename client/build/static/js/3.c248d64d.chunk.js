(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{105:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=a(1),o=i(n),s=i(a(0)),l=i(a(106));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={value:e.value},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;null!=t&&t!==this.state.value&&this.setState({value:t})}},{key:"onChange",value:function(e){var t=this.props,a=t.editing,r=t.value;a&&null==r&&this.setState({value:e})}},{key:"onStarClick",value:function(e,t,a,r){r.stopPropagation();var n=this.props,o=n.onStarClick;n.editing&&o&&o(e,t,a,r)}},{key:"onStarHover",value:function(e,t,a,r){r.stopPropagation();var n=this.props,o=n.onStarHover;n.editing&&o&&o(e,t,a,r)}},{key:"onStarHoverOut",value:function(e,t,a,r){r.stopPropagation();var n=this.props,o=n.onStarHoverOut;n.editing&&o&&o(e,t,a,r)}},{key:"renderStars",value:function(){for(var e=this,t=this.props,a=t.name,r=t.starCount,n=t.starColor,s=t.emptyStarColor,l=t.editing,i=this.state.value,c=function(e,t){return{float:"right",cursor:l?"pointer":"default",color:t>=e?n:s}},u={display:"none",position:"absolute",marginLeft:-9999},d=[],p=function(t){var r=a+"_"+t,n=o.default.createElement("input",{key:"input_"+r,style:u,className:"dv-star-rating-input",type:"radio",name:a,id:r,value:t,checked:i===t,onChange:e.onChange.bind(e,t,a)}),s=o.default.createElement("label",{key:"label_"+r,style:c(t,i),className:"dv-star-rating-star "+(i>=t?"dv-star-rating-full-star":"dv-star-rating-empty-star"),htmlFor:r,onClick:function(r){return e.onStarClick(t,i,a,r)},onMouseOver:function(r){return e.onStarHover(t,i,a,r)},onMouseLeave:function(r){return e.onStarHoverOut(t,i,a,r)}},e.renderIcon(t,i,a,r));d.push(n),d.push(s)},h=r;h>0;h--)p(h);return d.length?d:null}},{key:"renderIcon",value:function(e,t,a,r){var n=this.props,s=n.renderStarIcon,l=n.renderStarIconHalf;return"function"===typeof l&&Math.ceil(t)===e&&t%1!==0?l(e,t,a,r):"function"===typeof s?s(e,t,a,r):o.default.createElement("i",{key:"icon_"+r,style:{fontStyle:"normal"}},"\u2605")}},{key:"render",value:function(){var e=this.props,t=e.editing,a=e.className,r=(0,l.default)("dv-star-rating",{"dv-star-rating-non-editable":!t},a);return o.default.createElement("div",{style:{display:"inline-block",position:"relative"},className:r},this.renderStars())}}]),t}();c.propTypes={name:s.default.string.isRequired,value:s.default.number,editing:s.default.bool,starCount:s.default.number,starColor:s.default.string,onStarClick:s.default.func,onStarHover:s.default.func,onStarHoverOut:s.default.func,renderStarIcon:s.default.func,renderStarIconHalf:s.default.func},c.defaultProps={starCount:5,editing:!0,starColor:"#ffb400",emptyStarColor:"#333"},t.default=c,e.exports=t.default},106:function(e,t,a){var r;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var s=n.apply(null,r);s&&e.push(s)}else if("object"===o)for(var l in r)a.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}"undefined"!==typeof e&&e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},109:function(e,t,a){"use strict";a.r(t);var r=a(12),n=a(13),o=a(15),s=a(14),l=a(16),i=a(1),c=a.n(i),u=a(17),d=a(5),p=a(108),h=a(48),f=a(105),m=a.n(f),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.cleardetails(),this.props.details(this.props.match.params.id)}},{key:"render",value:function(){if(!this.props.searchReducer.details)return c.a.createElement("div",{"data-test":"component-details"},"Loading...");var e=this.props.searchReducer.details.url._cdata,t=parseFloat(this.props.searchReducer.details.average_rating._text);return c.a.createElement("div",{"data-test":"component-details"},c.a.createElement(p.a,{to:"/"},"Back to Search Results"),c.a.createElement("hr",null),this.props.searchReducer.details&&c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4"},this.props.searchReducer.details.image_url._text&&c.a.createElement("div",{"data-test":"details-image"},c.a.createElement("img",{src:this.props.searchReducer.details.image_url._text,alt:"",className:"img-responsive"})),c.a.createElement("hr",null),c.a.createElement("div",{className:"dropdown"},c.a.createElement("button",{className:"btn btn-default dropdown-toggle",type:"button","data-toggle":"dropdown"},"Want to Read",c.a.createElement("span",{className:"caret"}))),c.a.createElement("hr",null),c.a.createElement("div",null,"Rate this book"),c.a.createElement("div",null,"Preview")),c.a.createElement("div",{className:"col-md-8"},this.props.searchReducer.details.title._cdata&&c.a.createElement("h1",{"data-test":"details-title"},this.props.searchReducer.details.title._cdata),this.props.searchReducer.details.title._text&&c.a.createElement("h1",{"data-test":"details-title"},this.props.searchReducer.details.title._text),c.a.createElement("div",{"data-test":"details-author",className:"book-author"},"by\xa0",this.props.searchReducer.details.authors.author.length>0?this.props.searchReducer.details.authors.author.map(function(e,t){return c.a.createElement("span",{key:t},e.name._text,", ")}):c.a.createElement("span",null,this.props.searchReducer.details.authors.author.name._text)),c.a.createElement("div",{"data-test":"details-average-rating"},this.props.searchReducer.details.average_rating._text&&c.a.createElement("span",null,c.a.createElement("span",{style:{fontSize:18,position:"relative",top:"12px"}},c.a.createElement(m.a,{name:"rate1",starCount:5,value:t,editing:!1})),c.a.createElement("span",{className:"custom-spacing"},this.props.searchReducer.details.average_rating._text," ")),c.a.createElement("span",{className:"custom-spacing"},c.a.createElement("strong",null,"Rating details")),this.props.searchReducer.details.ratings_count._cdata&&c.a.createElement("span",{"data-test":"details-ratings-count",className:"custom-spacing"},this.props.searchReducer.details.ratings_count._cdata," Ratings"),this.props.searchReducer.details.text_reviews_count._cdata&&c.a.createElement("span",{"data-test":"details-text-reviews-count",className:"custom-spacing"},this.props.searchReducer.details.text_reviews_count._cdata," Reviews")),this.props.searchReducer.details.description._cdata&&c.a.createElement("div",{"data-test":"details-description"},this.props.searchReducer.details.description._cdata),e&&c.a.createElement("div",{"data-test":"details-url"},c.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"more")),c.a.createElement("hr",null),c.a.createElement("div",null,c.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"GET A COPY")))),!this.props.searchReducer.details&&c.a.createElement("div",null,"Loading the book details ....."))}}]),t}(i.Component);t.default=Object(u.b)(function(e){return{searchReducer:e.searchReducer}},function(e){return Object(d.b)({details:h.b,cleardetails:h.a},e)})(v)},48:function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"b",function(){return c}),a.d(t,"a",function(){return u});var r=a(56),n=a.n(r),o=a(62),s=a.n(o),l=a(6),i=function(e){return function(t,a){t({type:l.b,payload:null}),t({type:l.e,payload:e}),t({type:l.d,payload:null,total:null,searching:!0});var r=encodeURIComponent(e),o="".concat(l.a,"search.xml?key=").concat(l.c,"&q=").concat(r);return console.log("url is ",o),n()({method:"get",mode:"no-cors",url:o}).then(function(e){var a=s.a.xml2json(e.data,{compact:!0,spaces:4}),r=JSON.parse(a);console.log("resp2: ",r);var n=null,o=null;r.GoodreadsResponse.search.results.work&&!r.GoodreadsResponse.search.results.work.length?n=[r.GoodreadsResponse.search.results.work]:r.GoodreadsResponse.search.results.work?n=r.GoodreadsResponse.search.results.work:o="No Result Found",t({type:l.d,payload:n,total:r.GoodreadsResponse.search["total-results"]._text,searching:!1,message:o})})}},c=function(e){return function(t,a){var r="".concat(l.a,"book/isbn/").concat(e,"?key=").concat(l.c);return console.log("url is ",r),n()({method:"get",mode:"no-cors",url:r}).then(function(e){var a=s.a.xml2json(e.data,{compact:!0,spaces:4}),r=JSON.parse(a);console.log("resp2: ",r.GoodreadsResponse.book),t({type:l.b,payload:r.GoodreadsResponse.book})})}},u=function(){return function(e,t){e({type:l.b,payload:null})}}},67:function(e,t){},68:function(e,t){}}]);
//# sourceMappingURL=3.c248d64d.chunk.js.map